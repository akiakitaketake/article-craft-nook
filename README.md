# article-craft-nook

## アプリ概要
エンジニアとしての学習・スキル証明を目的に、[記事投稿アプリ](https://article-craft-nook.com)を開発しました。  
これはシングルページアプリケーション (SPA) として作成しており、フロントエンドには、**TypeScript / React**、
バックエンドには、**Ruby / Ruby on rails**、インフラには、**AWS**を使用しています。  

このアプリは、未経験からの転職を目指し実践的なスキルを身につけるため、  
モダンな技術スタックを活用して一つのアプリを作り切ることを目標に開発しました。

実務でのチーム開発を想定し、RailsとReactを組み合わせたモノレポ構成での開発に挑戦しています。  
同様に、インフラもAWSでの構築に挑戦しました。    

- アプリケーションは、以下のリンクからアクセスできます。  
  - [https://article-craft-nook.com](https://article-craft-nook.com)

## 主な機能
- 記事の閲覧（Markdownで保存 → HTMLで表示）
- ユーザー登録（メール認証付き）
- サインイン／サインアウト
- 記事の新規作成・編集・削除（下書き／公開の切替、リアルタイムプレビュー）

シンプルながら、認証・権限管理・エディタ機能などWebサービスに必要な基本機能を一通り備えています。

## 動作イメージ
**記事アプリホームページ**  
ログインをしなくても、他のユーザーが投稿した記事を閲覧することができます。
![記事アプリホーム画面](https://drive.google.com/uc?id=1Ac8F-nqFLnT7gZU-DKhzJfh_s4rsDRpe)  
**記事詳細ページ**  
記事をクリックすると、記事の詳細ページに遷移します。
![記事詳細ページ](https://drive.google.com/uc?id=1t6chsjYBY1YWq-IIFhl_mbtv6UwAPnTq)
**新規登録ページ**  
左上の新規登録のボタンをクリックすると新規登録ページに遷移します。  
メールアドレス、パスワード、ユーザー名を入力し、送信ボタンをクリックすると、入力したemail宛に認証メールが届きます。  
![新規登録画面](https://drive.google.com/uc?id=1RiE3MY3PjIkhhtQvBXm4zyQ_QVBHuk6R)  
**認証メール**  
「アカウントを有効化する」をクリックすると、認証処理が行われて、ログインページに遷移します。
![認証メール](https://drive.google.com/uc?id=1A5aesxCRZVIwEnY4KiYKPcsQhAf_SjJz)
**メール認証後のログインページ**  
新規登録で登録したメールアドレス、パスワードでログインできます。
![ログイン画面](https://drive.google.com/uc?id=1nt88ssVPbFNwov7AzdehQqqHMObz6vX2)  
**ログイン後のホームページ**  
ログイン後のホームページではヘッダーがログインユーザー用に切り替わっています。
![ログイン後のホーム画面](https://drive.google.com/uc?id=1UPSgBxatoNa1E1u6NZ9Vi2cEZDLHr-PO)  
**記事編集ページ**   
記事編集ページには右上にプレビュースイッチ、下書きor公開スイッチをを配置し、簡単に切り替えることができます。
それにより記事を書きながら完成予想をすぐに確認することが可能です。
![記事編集画面](https://drive.google.com/uc?id=1UlpEgYfEkVHB8R8-C9_UUCfWd6pLkhZB)  
**マイ記事管理ページ**  
記事の管理ページでは自分の書いた記事をまとめてみることができます。  
公開中、下書きを一目で確認することができ、このページから記事の削除、記事編集ページ、記事のプレビューページに遷移することができます。
![マイ記事管理ページ](https://drive.google.com/uc?id=1tbVcoOQ57yPA6_wXd6VGJ6EAXCX2hjL_)

## 技術スタック  
**開発環境**:
- Docker: ローカルと本番の環境差異を排除した統一的な構築。
- モノレポ構成: フロントエンドとバックエンドを1つのリポジトリで管理。

**フロントエンド**
- Next.js: SSRとSPAを組み合わせて、高品質なUXを提供
- TypeScript: 型安全性を確保し、保守性を向上。
- React: 再利用可能なコンポーネント設計。  
- Material-UI によるモダンなUI。
  
**バックエンド**:
- Ruby on Rails(API): 高い生産性と信頼性を持つWebフレームワーク。
- MySQL: 大量データの高速処理と安定した運用を実現。
- devise_token_auth: API向けの認証を裏側で自動的に処理する。
- RSpec / Rubocop: テスト、静的解析。
    
**本番環境**:
- AWS ECS: コンテナ数やリソースを柔軟に対応できる。
- ECR: 高い保守性を持ち、詳細なアクセス制御が可能。
- RDS: 高い可用性と耐久性を持ち、運用の負担低減を実現。
- nginx: リバーシプロキシとして、pumaサーバーの負担を軽減し、静的ファイルの高速通信を可能にする

## 技術選定・構成の理由
本プロジェクトは個人開発ですが、**Docker-Compose**でフロントエンドとバックエンドを統一管理する**モノレポ構成**で開発を進めました。  
実務でのチーム開発を見据え、以下のような効率的な開発環境の構築を目標に挑戦しています。

### Dockerによる開発環境の統一化
Dockerは開発環境をコンテナとして管理し、ローカルから分離した状態で軽量に実行できるツールです。  
統一された開発環境を容易に共有でき、開発効率が大幅に向上するため採用しました。  
以下のように効率的なセットアップを実現しています。
 - **環境の一貫性**  
   フロントエンド（React）とバックエンド（Rails）に個別のDockerファイルを作成。  
   将来的なチーム開発における **「自分の環境では動く」といった問題** を防止。  
   本番環境では、Dockerファイルから作成したイメージをECRに格納し、AWS ECSでコンテナをデプロイ。  
   ローカル環境と同一の構成を本番でも再現し、環境間の一貫性を保持。
 - **環境構築の効率化**  
   Docker Composeによって一元的にアプリを起動・管理できる仕組みを整え、環境構築にかかる時間を短縮。

### モノレポ構成による明確な役割分担とコードベースの一元化
モノレポ構成では、一つのリポジトリ内で複数の技術スタックコードを一元管理します。  
本プロジェクトは、異なる技術スタックのバックエンド（Rails）とフロントエンド（React）のコードを個別に作成。    
両者を同一リポジトリに集約し、以下のようにメンテナンス性を向上させています。
- **役割分担の明確化**  
  フロントエンドはUI/UX設計とクライアント側のロジックを担い、バックエンドはAPI設計とデータ処理を担当。  
  技術スタックごとに分離された構造により、それぞれの開発やメンテナンスが容易。
 - **プロジェクト全体の変更管理の効率化**  
  バックエンドAPIのエンドポイント設計の更新時に、フロントエンド側で必要な修正箇所を同リポジトリ内で即座に確認可能。  
  リポジトリを1つに統一することで、複数のリポジトリを行き来する必要がなく、開発効率が向上。

### フロントエンド
本プロジェクトのフロントエンドは、TypeScriptとReactを使用し、モダンな設計と高速なユーザー体験の実現を目指しました。  
また、UIはMaterial UIを活用し、ユーザーフレンドリーで統一感のあるデザインを心がけています。  
ビルドツールにはNext.jsを採用。高速な表示を実現し、拡張性、生産性を高めています。

### 使用技術
今回のプロジェクトでは、フロントエンドのモダンな技術を試して一つのアプリを作り切ること目標にしました。  
TypeScriptやReact、Material UIなど、現在多くの開発現場で採用されている技術を調査し、プロジェクトに取り入れました。  
今後は要件に応じて最適な技術を選定できるよう、さらに知識を深めたいと考えています。
 
- **TypeScript**  
  静的型付けにより型エラーを未然に防止し、コードの保守性を向上。  
  IDEの補完機能が充実しており、開発効率が向上。
- **React**  
  コンポーネントベースの設計で再利用性が高く、SPAのページ遷移を実現。  
  SPAによって直感的な操作性を提供。
- **Material UI**  
  デザインの一貫性を確保しつつ、短期間でモダンなUIを構築。
- **React Hook Form**  
  軽量なフォーム管理とスキーマベースのバリデーションにより、簡潔かつ効率的なフォーム実装を実現。
- **ESLint / Prettier / Stylelint**   
  コード品質の維持とスタイル統一を実現し、メンテナンス性を向上。
- **Next.js**  
  高速な表示を実現し、拡張性、生産性を高めて開発速度を向上。
- **SWR**  
  データ取得にuseSWRを採用し、キャッシュ、再検証を活用してUXを向上。

## バックエンド
フロントエンドで初めての技術を使うため、バックエンドの方は開発経験があるRailsを選定しました。  
また、実際の現場でもReact×Railsによる開発が行われているため、今後の実務に活かせる組み合わせと考え採用しました。

### 使用技術
広く普及しており、技術記事を参照しやすい技術を使用しています。
- **Rails**  
  RubyによるMVCアーキテクチャで開発効率が高く、認証やバリデーションを短期間で実装可能。
- **MySQL**  
  高速なデータ処理と安定性を重視し、簡潔な運用が可能なリレーショナルデータベース。
- **Devise ＋ Devise Token Auth**  
  トークンベースの認証をサポートし、SPAでセキュアなAPI通信を実現。
- **Rack CORS**  
  フロントエンドとバックエンドを安全に連携させるためのCORS（クロスオリジンリソース）設定を管理。


## インフラ構成図  
アプリケーションの基本的な流れとしては以下の通りです。

1、ユーザーはブラウザからアプリケーションにアクセス。ACMによってユーザーの情報はセキュアに管理。  
2. APIリクエストは、パブリックサブネット内のALB (Application Load Balancer) を通じてバックエンドに送信。  
3. 処理が実行され、レスポンスをブラウザ側がキャッチ。  
4. SWRを利用し、動的に切り替える。  

![インフラ構成図](https://drive.google.com/uc?id=167EZomi_HrIl_4PyjOSO6LWAGYtSAVed)

## 設計のポイント
- フロントエンド・バックエンド・インフラを一貫して設計・実装・運用  
- Markdownエディタ＋リアルタイムプレビューにより直感的な執筆体験を実現  
- ユーザー登録時にメール認証を導入し、実務を想定したセキュリティを確保  
- Docker や GitHub Actions を活用した、再現性の高い開発環境 

## 得られた経験
- 設計から開発・テスト・デプロイまで一人で完結させるフルスタック開発経験  
- クラウドサービス（AWS）を活用した本番運用の基礎理解  

